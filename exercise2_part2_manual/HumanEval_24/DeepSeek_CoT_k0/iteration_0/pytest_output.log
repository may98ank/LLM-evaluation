============================= test session starts ==============================
platform darwin -- Python 3.13.7, pytest-9.0.0, pluggy-1.6.0 -- /Users/mayankgupta/vscode/520/llm-codegen-study/.venv/bin/python3
cachedir: .pytest_cache
rootdir: /Users/mayankgupta/vscode/520/llm-codegen-study/exercise2_data_singlek/HumanEval_24/DeepSeek_CoT_k0
plugins: anyio-4.11.0, cov-7.0.0
collecting ... collected 1 item

tests/test_solution.py::test_generated FAILED                            [100%]

=================================== FAILURES ===================================
________________________________ test_generated ________________________________

    def test_generated():
>       check(largest_divisor)

tests/test_solution.py:35: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
tests/test_solution.py:31: in check
    assertion(largest_divisor(*inp), exp, 0)
              ^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

n = 3

    def largest_divisor(n: int) -> str : #changed the function's type hint from 'int'->str, as we want to output a string not an integer in our case
        """ For given input n find all factors of that number and return maximum factor. This is tricky part will be ignored for final implementation but here it serves purpose."""
    
        # Initialize the list with first divisor which would always equal '1' as per definition, no need to check further
        largest_divisors = [i for i in range(2 , int(n**0.5) + 1 ) if n % i == 0 ]
    
        # Append the larger factors after finding smaller ones because a number can have more than one divisor, so we need to find all of them
>       largest_divisors += [i for i in range(largest_divisors[-1] , int(n/2) + 1 , -1 ) if n % i == 0 ]
                                            ^^^^^^^^^^^^^^^^^^^^
E       IndexError: list index out of range

src/solution.py:8: IndexError
================================ tests coverage ================================
_______________ coverage: platform darwin, python 3.13.7-final-0 _______________

Name              Stmts   Miss Branch BrPart  Cover
---------------------------------------------------
src/solution.py       6      3      0      0    50%
---------------------------------------------------
TOTAL                 6      3      0      0    50%
=========================== short test summary info ============================
FAILED tests/test_solution.py::test_generated - IndexError: list index out of...
============================== 1 failed in 0.06s ===============================
